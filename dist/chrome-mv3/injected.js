var injected=function(){"use strict";function i(t){return t==null||typeof t=="function"?{main:t}:t}const r={init:()=>console.log("Utils initialized")},c=i(()=>{r.init();const t=XMLHttpRequest.prototype.open,s=XMLHttpRequest.prototype.send;XMLHttpRequest.prototype.open=function(n,e){this._url=e instanceof URL?e.toString():e,t.apply(this,arguments)},XMLHttpRequest.prototype.send=function(n){this.addEventListener("readystatechange",()=>{if(this.readyState===4){const e=this.responseText;console.log("===抓到信息====",e),window.postMessage({type:"CTG_NETWORK_RESPONSE",url:this._url,response:e},"*")}}),s.apply(this,arguments)};const u=window.fetch;window.fetch=async(...n)=>{const e=await u(...n),l=await e.clone().text();return window.postMessage({type:"NETWORK_RESPONSE",url:n[0]instanceof Request?n[0].url:n[0],response:l},"*"),e}});function a(){}function o(t,...s){}const p={debug:(...t)=>o(console.debug,...t),log:(...t)=>o(console.log,...t),warn:(...t)=>o(console.warn,...t),error:(...t)=>o(console.error,...t)};return(async()=>{try{return await c.main()}catch(t){throw p.error('The unlisted script "injected" crashed on startup!',t),t}})()}();
injected;
